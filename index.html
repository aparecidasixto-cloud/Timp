<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema V10 - TV Fix</title>
    <style>
        body { 
            margin: 0; padding: 0; background-color: #0d0d0d; color: white;
            font-family: Arial, sans-serif; height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
        }
        
        .container {
            width: 90%; max-width: 600px; text-align: center;
            background: #1a1a1a; padding: 30px; border-radius: 15px; border: 1px solid #333;
        }

        h2 { margin-top: 0; color: #fff; }
        p { color: #aaa; margin-bottom: 25px; }

        /* Bot√µes Gigantes para TV */
        .btn-tv {
            display: block; width: 100%; padding: 25px; margin: 15px 0;
            font-size: 22px; font-weight: bold; color: white;
            border: none; border-radius: 10px; cursor: pointer;
            text-decoration: none; transition: 0.3s;
        }

        .btn-azul { background: #0056b3; box-shadow: 0 4px 0 #004494; }
        .btn-azul:hover { background: #004494; }
        
        .btn-verde { background: #218838; box-shadow: 0 4px 0 #1e7e34; }
        .btn-verde:hover { background: #1e7e34; }

        .btn-voltar { background: #444; font-size: 16px; padding: 15px; }

        /* Campos de Senha */
        #inputSenha {
            width: 80%; padding: 20px; font-size: 24px; text-align: center;
            border-radius: 8px; border: 2px solid #555; background: #222; color: white;
            margin-bottom: 20px;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="telaMenu" class="container">
        <h2>Painel de Controle V10</h2>
        <p>Selecione a fun√ß√£o desejada:</p>
        
        <button class="btn-tv btn-azul" onclick="irParaSenha()">
            üìπ TRANSMITIR (Gerar Imagem)
        </button>

        <button class="btn-tv btn-verde" onclick="assistirNaTV()">
            üì∫ ASSISTIR (Modo TV/Celular)
        </button>
    </div>

    <div id="telaSenha" class="container hidden">
        <h3>Seguran√ßa Necess√°ria</h3>
        <p>Digite a senha para iniciar a transmiss√£o:</p>
        
        <input type="password" id="inputSenha" placeholder="Senha aqui">
        
        <button class="btn-tv btn-azul" onclick="verificarSenha()">ENTRAR NO AR</button>
        <button class="btn-tv btn-voltar" onclick="voltar()">VOLTAR</button>
    </div>

    <script>
        // CONFIGURA√á√ïES
        // "jitsi_meet_external_api_id" √© um par√¢metro t√©cnico para limpar a tela
        const BASE_URL = "https://meet.jit.si/SALA_PROTEGIDA_093106Rm_TV_FIX";
        const SENHA_ADM = "093106Rm";

        // --- NAVEGA√á√ÉO DO MENU ---
        function irParaSenha() {
            document.getElementById('telaMenu').classList.add('hidden');
            document.getElementById('telaSenha').classList.remove('hidden');
            document.getElementById('inputSenha').focus();
        }

        function voltar() {
            document.getElementById('telaSenha').classList.add('hidden');
            document.getElementById('telaMenu').classList.remove('hidden');
        }

        // --- L√ìGICA DO TRANSMISSOR ---
        function verificarSenha() {
            const senha = document.getElementById('inputSenha').value;
            if (senha === SENHA_ADM) {
                // Abre link com configura√ß√µes para ligar c√¢mera e mic automaticamente
                // e desativar avisos de "instale o app"
                const linkTransmissor = BASE_URL + "#config.startWithVideoMuted=false&config.startWithAudioMuted=false&config.prejoinPageEnabled=false";
                
                // Abre na mesma janela para garantir funcionamento
                window.location.href = linkTransmissor;
            } else {
                alert("SENHA INCORRETA");
            }
        }

        // --- L√ìGICA DA TV (RECEPTOR) ---
        function assistirNaTV() {
            // Configura√ß√£o ESPECIAL para TV:
            // 1. startWithVideoMuted=true (Come√ßa sem enviar c√¢mera da TV)
            // 2. startWithAudioMuted=true (Come√ßa mudo para evitar microfonia)
            // 3. filmStripOnly=false (Modo tela cheia)
            // 4. interfaceConfig.TOOLBAR_BUTTONS (Remove bot√µes para limpar a tela da TV)
            
            const configTV = [
                "config.startWithVideoMuted=true",
                "config.startWithAudioMuted=true",
                "config.prejoinPageEnabled=false",
                "interfaceConfig.TOOLBAR_BUTTONS=[]", // Remove todos os bot√µes
                "interfaceConfig.FILM_STRIP_MAX_HEIGHT=0" // Remove miniaturas
            ].join("&");

            const linkTV = BASE_URL + "#" + configTV;

            // O SEGREDO: Redirecionamento total. 
            // A TV sai do seu site e vai para o player oficial, que √© compat√≠vel.
            window.location.href = linkTV;
        }
    </script>
</body>
</html>
